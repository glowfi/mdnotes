<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>2_Strategy_Pattern - Markdown Notes</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Markdown Notes</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="strategy-pattern"><a class="header" href="#strategy-pattern">Strategy Pattern</a></h1>
<blockquote>
<p>Defines a family of algorithm,encapsulates each one and makes them interchangeble.
We can change the strategy at runtime</p>
</blockquote>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<p>Imagine this scenario we are a company making duck simulator app.
We have a following code setup below.We have a duck abstract
class which gets inherited by different kinds of duck.Currently
quack,swim function is defined in the parent class but since each
duck look differently they override the display method respectively.
Currently we are having pure inheritance based setup.</p>
<pre><code class="language-py">from abc import ABC, abstractmethod


class Duck(ABC):
    def quack(self):
        print("quack")

    def swim(self):
        print("swim")

    @abstractmethod
    def display(self):
        pass


class MallardDuck(Duck):
    def display(self):
        print("I am MallardDuck")


class RedHeadDuck(Duck):
    def display(self):
        print("I am RedHeadDuck")


class RubberDuck(Duck):
    def display(self):
        print("I am RubberDuck")
</code></pre>
<p>But suddenly a requirements come up and we have to integrate a
fly method but there is one problem not all ducks fly what we can
do is that add another normal class called flyable duck and make
the mallard,red head duck inherit it.What we can do is define the
fly behaviour over the flyable duck class.Then the code will look
something like this.</p>
<pre><code class="language-py">from abc import ABC, abstractmethod


class Duck(ABC):
    def quack(self):
        print("quack")

    def swim(self):
        print("swim")

    @abstractmethod
    def display(self):
        pass


class Flyable:
    def fly(self):
        print("fly")


class MallardDuck(Duck, Flyable):
    def display(self):
        print("I am MallardDuck")


class RedHeadDuck(Duck, Flyable):
    def display(self):
        print("I am RedHeadDuck")


class RubberDuck(Duck):
    def display(self):
        print("I am RubberDuck")
</code></pre>
<p>But there is a problem because suppose we integrate some other
ducks that fly with jet.Then again if we use inheritance then
we have to again create 2 seperate classes flywithwing and
flywithJet which in the long run will create a mess as for
single behaviour(fly behaviour) we can multiple implementations
and it will be a burden to maintain this.</p>
<h3 id="inheritance-mess"><a class="header" href="#inheritance-mess">Inheritance Mess</a></h3>
<p><img src="https://www.plantuml.com/plantuml/img/ZPFDJiCm48JlVegz0KAL44TKHKL25I2113tql8bDiU8unLw3qiAxanz8DaaBoN5cxFbMwomyeQEG6N42AogC0g-8jDruuLDjj-WmWyIWzzT4JiU1r5sIsvNUARWOHfQvfTgvv9RDfUAEmDYJmuIQGt0JaXJcyxuQHR0NK7xdu3zqTdfs1U-vbZ_IMy0a7MZjUQdzrc3Hsbz2D4LBKwmrlQwhwNulVp77W_UA_emzLHGL_VuWLfjxpEjaMJiX_836e9CyUNIWPoLl5KxCXZXMRbAqd9kcHtV5Fqas4Sncdr6zSC7OkTfICh7ZwOjDCzF6LUsAndsTDRo_v_2IpXY1zdTyW8G_lZ5Cpnq1TUznICGSiL1MbZ_oDm00" alt="Inheritance Mess" /></p>
<pre><code class="language-plantuml">@startuml
' Style settings
skinparam classAttributeIconSize 0
skinparam classFontSize 20
skinparam nodeFontSize 20

abstract class Duck &lt;&lt;abstract class&gt;&gt; {
    + swim(): void
    + quack(): void
    + abstract display(): void
}

class FlyWithWings{
    + fly(): void
}

class FlyWithJet{
    + fly(): void
}

class QuackDuck{
    + quack(): void
}

class NoQuackingDuck{
    + quack(): void
}

class MallardDuck{
    + display(): void
}

class RedHeadDuck{
    + display(): void
}

class RubberDuck{
    + display(): void
}

class JetterDuck{
    + display(): void
}

class JetzyDuck{
    + display(): void
}

MallardDuck --|&gt; Duck
RedHeadDuck --|&gt; Duck
RubberDuck --|&gt; Duck
JetterDuck --|&gt; Duck
JetzyDuck --|&gt; Duck

MallardDuck --|&gt; QuackDuck
RedHeadDuck --|&gt; QuackDuck
JetterDuck --|&gt; QuackDuck
JetzyDuck --|&gt; QuackDuck

RubberDuck --|&gt; NoQuackingDuck

MallardDuck --|&gt; FlyWithWings
RedHeadDuck --|&gt; FlyWithWings

JetterDuck --|&gt; FlyWithJet
JetzyDuck --|&gt; FlyWithJet

@enduml
</code></pre>
<p>After careful analysis what we can do is extrac the behaviour that
is changing and encapsulate it into classes.We can use composition
in place of inheritance as it will help us change duck behaviour
in runtime.We are going to extract swim,fly and quack behaviour as
it varies from duck to duck</p>
<pre><code class="language-py">from abc import ABC, abstractmethod


class SwimBehaviour(ABC):
    @abstractmethod
    def swim(self):
        pass


class SwimNormal(SwimBehaviour):
    def swim(self):
        print("swim normally")


class SwimBackwards(SwimBehaviour):
    def swim(self):
        print("swim backwards manner")


class FlyBehaviour(ABC):
    @abstractmethod
    def fly(self):
        pass


class FlyWithWings(FlyBehaviour):
    def fly(self):
        print("fly with wings")


class FlyWithJet(FlyBehaviour):
    def fly(self):
        print("fly with jet")


class NoFly(FlyBehaviour):
    def fly(self):
        print("cant fly")


class QuackBehaviour(ABC):
    @abstractmethod
    def quack(self):
        pass


class QuackNormal(QuackBehaviour):
    def quack(self):
        print("quack")


class QuackSqueak(QuackBehaviour):
    def quack(self):
        print("squeak")


class Duck(ABC):
    def __init__(self, s: SwimBehaviour, f: FlyBehaviour, q: QuackBehaviour) -&gt; None:
        self.s: SwimBehaviour = s
        self.f: FlyBehaviour = f
        self.q: QuackBehaviour = q

    def swim(self):
        self.s.swim()

    def fly(self):
        self.f.fly()

    def quack(self):
        self.q.quack()


class MallardDuck(Duck):
    def __init__(self, s: SwimBehaviour, f: FlyBehaviour, q: QuackBehaviour) -&gt; None:
        super().__init__(s, f, q)


class RubberDuck(Duck):
    def __init__(self, s: SwimBehaviour, f: FlyBehaviour, q: QuackBehaviour) -&gt; None:
        super().__init__(s, f, q)


if __name__ == "__main__":
    md = MallardDuck(SwimNormal(), FlyWithWings(), QuackNormal())
    rd = RubberDuck(SwimBackwards(), NoFly(), QuackSqueak())
</code></pre>
<h3 id="uml-with-strategy-pattern-applied"><a class="header" href="#uml-with-strategy-pattern-applied">UML with Strategy Pattern applied</a></h3>
<p><img src="https://www.plantuml.com/plantuml/img/ZPJBJiCm44NtynNUyL8an19LLQbG9P2e15bqxII6Md5iQezRXSU_uxe2_6YgP3dtZ6SySvsPGQhHTWBEI8czOCGmH2xV39YMotUgQKTgGOsvGzIyiiWUQYLB_i78TOeib4Ilt8IIL0qB5Q2LGKrhF2IHSiUxELlJBLTMayaabgTJyWd4VLV4EF3yufPi5M_W6-0_VQbqHyK8S4xhTaTrOmRPfBc5w4VrzYhwlA9BNd5Sh_RZ74K-CZpDBPKZXv2azMVhBZkg-SsUp8lv0vBHdaBBZMMq7KQJ_kvjtOvUTtxXWI9FL0YtO7zuKNnDVHbuiLN5T1ACsCkY2AoKIU4gCp4O58IbVi_ySrqg-dMcmM2M086xVUFHOu7OqaS0Y2peWT3H4FWk5mzco-CG6iFBiTKWTCCn7MPCDkwVymC0" alt="Strategy Pattern" /></p>
<pre><code class="language-plantuml">@startuml
' Style settings
skinparam classAttributeIconSize 0
skinparam classFontSize 20
skinparam nodeFontSize 20

abstract class SwimBehaviour &lt;&lt;abstract class&gt;&gt; {
    + swim(): void
}

class SwimNormal {
    + swim(): void
}

class SwimBackwards {
    + swim(): void
}

abstract class FlyBehaviour &lt;&lt;abstract class&gt;&gt; {
    + fly(): void
}

class FlyWithWings {
    + fly(): void
}

class FlyWithJet {
    + fly(): void
}

class NoFly {
    + fly(): void
}

abstract class QuackBehaviour &lt;&lt;abstract class&gt;&gt; {
    + quack(): void
}

class QuackNormal {
    + quack(): void
}

class QuackSqueak {
    + quack(): void
}

abstract class Duck &lt;&lt;abstract class&gt;&gt; {
    + swim(): void
    + fly(): void
    + quack(): void
}

MallardDuck --|&gt; Duck
RubberDuck --|&gt; Duck

MallardDuck *-- SwimNormal
MallardDuck *-- FlyWithWings
MallardDuck *-- QuackNormal

RubberDuck *-- SwimBackwards
RubberDuck *-- NoFly
RubberDuck *-- QuackSqueak

SwimNormal --|&gt; SwimBehaviour
SwimBackwards --|&gt; SwimBehaviour

FlyWithWings --|&gt; FlyBehaviour
FlyWithJet --|&gt; FlyBehaviour
NoFly --|&gt; FlyBehaviour

QuackNormal --|&gt; QuackBehaviour
QuackSqueak --|&gt; QuackBehaviour

@enduml
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="1_Design_Google_Doc.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="3_Factory_Pattern.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="1_Design_Google_Doc.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="3_Factory_Pattern.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
