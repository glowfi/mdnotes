<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>12_sql - Markdown Notes</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-d9f9813f.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-3a843a61.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">Markdown Notes</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="sql"><a class="header" href="#sql">SQL</a></h1>
<ul>
<li>Domain Specific (Can be used in RDBMS only)</li>
<li>Declarative Language (We have to mention just what to do not how to do)</li>
</ul>
<h2 id="types-of-sql-commands"><a class="header" href="#types-of-sql-commands">Types of SQL commands</a></h2>
<ul>
<li>DDL (Works with schema/structure) : CREATE,ALTER,DROP</li>
<li>DML (Works with data inside the database schema) : INSERT,UPDATE,DELETE,SELECT</li>
<li>DCL (Works with authorization purposes) : GRANT , REVOKE</li>
<li>TCL (Transcation realated) : COMMIT , ROLLBACK , SAVEPOINTS</li>
<li>DQL (Data Query Language) : SELECT</li>
</ul>
<h3 id="create-table"><a class="header" href="#create-table">CREATE table</a></h3>
<p>Link : https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-create-table/</p>
<pre><code class="language-sql">CREATE TABLE [IF NOT EXISTS] table_name (
   column1 datatype(length) column_contraint,
   column2 datatype(length) column_contraint,
   column3 datatype(length) column_contraint,
   table_constraints
);

</code></pre>
<h3 id="insert-into-table"><a class="header" href="#insert-into-table">INSERT into table</a></h3>
<p>Link : https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-insert/</p>
<pre><code class="language-sql">
INSERT INTO table_name(column1, column2, …)
VALUES (value1, value2, …);
</code></pre>
<h3 id="alter-table"><a class="header" href="#alter-table">ALTER TABLE</a></h3>
<p>Link : https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-alter-table/</p>
<pre><code class="language-sql">ALTER TABLE table_name action;
</code></pre>
<h3 id="update"><a class="header" href="#update">UPDATE</a></h3>
<p>Link : https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-update/</p>
<pre><code class="language-sql">UPDATE table_name
SET column1 = value1,
    column2 = value2,
    ...
WHERE condition;
</code></pre>
<h3 id="difference-bw-alter-and-update"><a class="header" href="#difference-bw-alter-and-update">Difference b/w ALTER and UPDATE</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>ALTER</th><th>UPDATE</th></tr>
</thead>
<tbody>
<tr><td>DDL</td><td>DML</td></tr>
<tr><td>Works with structure schema</td><td>Works with change in data</td></tr>
<tr><td>Example : Renaming a column,Changing datatype of a column,droping a column</td><td>Update a value inside the column.</td></tr>
<tr><td>No condition</td><td>Can give condition with where clause</td></tr>
</tbody>
</table>
</div>
<h3 id="delete"><a class="header" href="#delete">DELETE</a></h3>
<p>Link : https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-delete/</p>
<pre><code class="language-sql">DELETE FROM table_name
WHERE condition;
</code></pre>
<h3 id="drop"><a class="header" href="#drop">DROP</a></h3>
<p>Link : https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-drop-table/</p>
<pre><code class="language-sql">DROP TABLE [IF EXISTS] table_name
[CASCADE | RESTRICT];
</code></pre>
<h3 id="truncate"><a class="header" href="#truncate">TRUNCATE</a></h3>
<p>Link : https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-truncate-table/</p>
<pre><code class="language-sql">TRUNCATE TABLE table_name;
</code></pre>
<h3 id="difference-bw-deletedroptruncate"><a class="header" href="#difference-bw-deletedroptruncate">Difference b/w DELETE,DROP,TRUNCATE</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>DELETE</th><th>DROP</th><th>TRUNCATE</th></tr>
</thead>
<tbody>
<tr><td>DML</td><td>DDL</td><td>DDL</td></tr>
<tr><td>Deletes only rows row</td><td>Deletes every row+schema</td><td>Deletes only rows</td></tr>
<tr><td>Deletes rows one by one (can give where clause)</td><td>-</td><td>Deletes rows in one go</td></tr>
<tr><td>Slower, Rollback possible if done before commit as it maintains logs</td><td>-</td><td>Faster, Rollback not possible as it maintains no logs</td></tr>
</tbody>
</table>
</div>
<h3 id="constraints"><a class="header" href="#constraints">Constraints</a></h3>
<ul>
<li><code>UNIQUE</code> (For unique values)</li>
<li><code>NOT NULL</code> (non-empty values)</li>
<li><code>PRIMARY KEY</code> (Unique + not null values)</li>
<li><code>FOREIGN KEY</code> (Maintains Referential Integrity)</li>
<li><code>CHECK</code> (Suppose we want to check the age of person during registration process in a website before inserting into the table)</li>
<li><code>DEFAULT</code> (default values if we do not give any values)</li>
</ul>
<h2 id="architectures-in-database"><a class="header" href="#architectures-in-database">Architectures in Database</a></h2>
<h3 id="1-tier-architecture"><a class="header" href="#1-tier-architecture">1 tier architecture</a></h3>
<ul>
<li>Only database layer</li>
<li>Example : MS Office,Paint,Photoshop</li>
</ul>
<h3 id="2-tier-architecture"><a class="header" href="#2-tier-architecture">2 tier architecture</a></h3>
<ul>
<li>Client layer &amp; database layer</li>
<li>Not scalable,not secure</li>
<li>Heavy load on database layer</li>
<li>Example : Suppose we go to a bank to create an account,we fill the form then give the accountant the form
and then accountant from his/her client machine will register our details or in this case data is pushed
to the database layer.</li>
</ul>
<h3 id="3-tier-architecture"><a class="header" href="#3-tier-architecture">3 tier architecture</a></h3>
<ul>
<li>Client layer , Application/Business layer , &amp; database layer</li>
<li>scalable,secure</li>
<li>Example : Suppose we we use the official bank mobile app (acts as an interface) to create an account ,then all the details will
first go to the Application/Business layer where the details will be processed and then data is pushed into the database layer.</li>
</ul>
<h2 id="different-keys"><a class="header" href="#different-keys">Different Keys</a></h2>
<h3 id="candidate-keys"><a class="header" href="#candidate-keys">Candidate keys</a></h3>
<p><strong>Set of keys/attributes which have the potential of being the primary key (Uniqe + can be null)</strong></p>
<p>Example : voter id, social security number, phone number can be the candidates for being primary keys</p>
<h3 id="primary-keys"><a class="header" href="#primary-keys">Primary keys</a></h3>
<p>Used to uniquely identify tuples in a table (Unique + not null)</p>
<p><b> Note : There can only be one primary key per table.</b></p>
<h3 id="foreign-keys"><a class="header" href="#foreign-keys">Foreign keys</a></h3>
<p>It is an attribute or set of attribute which references the primary key of same or another table.
Primarily Used for maintaining referential integrity.</p>
<p>Link : https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-foreign-key/</p>
<pre><code class="language-sql">[CONSTRAINT fk_name]
   FOREIGN KEY(fk_columns)
   REFERENCES parent_table(parent_key_columns)
   [ON DELETE delete_action]
   [ON UPDATE update_action]
</code></pre>
<p><b>Parent Table (Referenced Table)</b></p>
<ul>
<li>Insert : No violation</li>
<li>Update and Delete : May cause violation</li>
</ul>
<p><b>Child Table (Referencing Table)</b></p>
<ul>
<li>Insert : May cause Violation</li>
<li>Delete : No violation</li>
<li>Update : May cause violation</li>
</ul>
<p><b>PostgreSQL supports the following actions:</b></p>
<ul>
<li>SET NULL</li>
<li>SET DEFAULT</li>
<li>RESTRICT</li>
<li>NO ACTION</li>
<li>CASCADE</li>
</ul>
<p><b> Note : There can only be more than one foreign key per table.</b></p>
<h3 id="difference-between-restrict-and-no-action"><a class="header" href="#difference-between-restrict-and-no-action">Difference between RESTRICT and NO ACTION</a></h3>
<p>RESTRICT blocks updates that would violate the referential integrity of the constraint, while NO ACTION allows updates to proceed without enforcing the constraint.</p>
<h3 id="super-key"><a class="header" href="#super-key">Super Key</a></h3>
<p>Supeset of any candidate key (all possible values to uniquely identify two tuples in a table)</p>
<p>Formula : 2^n-k-(2^n-commonsets) , k no of candiate keys</p>
<h3 id="difference-bw-nested-subqueries--correlated-subqueries"><a class="header" href="#difference-bw-nested-subqueries--correlated-subqueries">Difference b/w Nested Subqueries , Correlated Subqueries</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Nested</th><th>Correlated</th></tr>
</thead>
<tbody>
<tr><td>Inner query runs first once and acts as a result for the outer query</td><td>Outer query runs first and for each outer query inner query runs multiple times</td></tr>
<tr><td>Example : IN , NOT IN</td><td>Example : EXISTS , NOT EXISTS</td></tr>
<tr><td>Bottom up approach</td><td>Top Down approach</td></tr>
</tbody>
</table>
</div>
<h3 id="common-things-to-do"><a class="header" href="#common-things-to-do">Common things to do</a></h3>
<ul>
<li>Aggreagte Functions</li>
<li>Nested,Correlated [Subqueries]</li>
<li>GROUP BY</li>
<li>HAVING</li>
<li>IN , NOT IN</li>
<li>EXISTS , NOT EXISTS</li>
</ul>
<h3 id="varchar-vs-varchar2"><a class="header" href="#varchar-vs-varchar2">Varchar vs Varchar2</a></h3>
<ul>
<li>Varchar is ANSI standard</li>
<li>Varchar2 is Oracles standard</li>
</ul>
<h3 id="acid"><a class="header" href="#acid">ACID</a></h3>
<ul>
<li>Atomicity : Either all changes are performed or none of them.</li>
<li>Consistency : Data is consistent after and before the transcation.</li>
<li>Isolation : Transcation takes place concurrently in an isolated manner.</li>
<li>Durability: After a transcation completes successfuly all the data changes persists even after the events of system failure</li>
</ul>
<h3 id="joins"><a class="header" href="#joins">Joins</a></h3>
<ul>
<li>Cross Join : Cartesian prodocut of 2 tables (combinations of rows of 2 tables).</li>
<li>Self Join : Joininig a table with itself.</li>
<li>Natural Join/Inner Join : Returns records matching in both the tables.</li>
<li>Left Outer Join : Returns the common records in both the tables as well as records not in right table but in left.Fills the columns not in right table with null.</li>
<li>Right Outer Join : Returns the common records in both the tables as well as records not in left table but in right.Fills the columns not in left table with null.</li>
</ul>
<blockquote>
<p>Alternate way of inner join</p>
</blockquote>
<pre><code>select
  pt.patient_id,
  pt.first_name,
  pt.last_name,
  doc.specialty
from
  patients as pt,
  doctors as doc,
  admissions as adm
where
  pt.patient_id = adm.patient_id
  AND adm.attending_doctor_id = doc.doctor_id
  AND adm.diagnosis='Epilepsy'
  AND doc.first_name='Lisa'
</code></pre>
<blockquote>
<p>Inner Joins Syntax</p>
</blockquote>
<pre><code>SELECT
  p.patient_id,
  p.first_name AS patient_first_name,
  p.last_name AS patient_last_name,
  ph.specialty AS attending_doctor_specialty
FROM patients p
  JOIN admissions a ON a.patient_id = p.patient_id
  JOIN doctors ph ON ph.doctor_id = a.attending_doctor_id
WHERE
  ph.first_name = 'Lisa' and
  a.diagnosis = 'Epilepsy'
</code></pre>
<p>Link : https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-joins/</p>
<h3 id="sql-cheatsheet"><a class="header" href="#sql-cheatsheet">SQL Cheatsheet</a></h3>
<hr>
<h2 id="table-operations"><a class="header" href="#table-operations">Table Operations</a></h2>
<blockquote>
<p>Create</p>
</blockquote>
<pre><code class="language-sql">CREATE TABLE products (
    code INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    prod_name VARCHAR(255) NOT NULL,
    price NUMERIC(10,2) NOT NULL,
    release_date TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

--  DEFAULT NOW()
--  DEFAULT CURRENT_TIMESTAMP

-- TIMESTAMP WITHOUT TIME ZONE
-- TIMESTAMP

-- Composite primary key
CREATE TABLE products (
    code INT GENERATED ALWAYS AS IDENTITY,
    prod_name VARCHAR(255) NOT NULL,
    CONSTRAINT pk_prod PRIMARY KEY (code, prod_name)
);
</code></pre>
<p>Note: <code>GENERATED ALWAYS AS IDENTITY</code> auto-generates values, no manual insert allowed</p>
<blockquote>
<p>Drop / Truncate</p>
</blockquote>
<pre><code class="language-sql">DROP TABLE products;
TRUNCATE TABLE products;
</code></pre>
<blockquote>
<p>Copy Table</p>
</blockquote>
<pre><code class="language-sql">CREATE TABLE prod_bkp AS (SELECT * FROM products WHERE 1=2);  -- structure only
CREATE TABLE prod_bkp AS (SELECT * FROM products);            -- structure + data
</code></pre>
<hr>
<h2 id="crud-operations"><a class="header" href="#crud-operations">CRUD Operations</a></h2>
<blockquote>
<p>Insert</p>
</blockquote>
<pre><code class="language-sql">INSERT INTO products(prod_name, price, release_date)
VALUES ('name-1', 12.23, to_date('31-10-2025','dd-mm-yyyy'));

INSERT INTO products(prod_name, price, release_date)
VALUES ('name-2', 15.23, to_timestamp('31-12-2025 13:08:07','dd-mm-yyyy hh24:mi:ss'));
</code></pre>
<blockquote>
<p>Update</p>
</blockquote>
<pre><code class="language-sql">UPDATE products SET prod_name='updated-1', price=51.23 WHERE code=1;
</code></pre>
<p>Note: Without <code>WHERE</code>, all rows will be updated</p>
<blockquote>
<p>Delete</p>
</blockquote>
<pre><code class="language-sql">DELETE FROM products WHERE code=1;
</code></pre>
<p>Note: Without <code>WHERE</code>, all rows will be deleted</p>
<hr>
<h2 id="alter-operations"><a class="header" href="#alter-operations">Alter Operations</a></h2>
<pre><code class="language-sql">ALTER TABLE products RENAME TO test1;                             -- rename table
ALTER TABLE test1 RENAME COLUMN price TO prize;                   -- rename column
ALTER TABLE test1 ALTER COLUMN prize TYPE FLOAT;                  -- change data type
ALTER TABLE test1 ALTER COLUMN prize SET NOT NULL;                -- add NOT NULL
ALTER TABLE test1 ALTER COLUMN prize DROP NOT NULL;               -- drop NOT NULL
ALTER TABLE products ADD CONSTRAINT uq_name UNIQUE (prod_name);   -- add constraint
ALTER TABLE products DROP CONSTRAINT uq_name;                     -- drop constraint
</code></pre>
<p>Note: PostgreSQL columns are nullable by default</p>
<hr>
<h2 id="constraints-1"><a class="header" href="#constraints-1">Constraints</a></h2>
<blockquote>
<p>PRIMARY KEY</p>
</blockquote>
<pre><code class="language-sql">-- Inline
CREATE TABLE products (
    id INT PRIMARY KEY
);

-- Named
CREATE TABLE products (
    id INT,
    code INT,
    CONSTRAINT pk_products PRIMARY KEY (id, code)
);
</code></pre>
<blockquote>
<p>FOREIGN KEY</p>
</blockquote>
<pre><code class="language-sql">-- Inline
CREATE TABLE orders (
    id INT PRIMARY KEY,
    product_id INT REFERENCES products(id)
);

-- Named with ON DELETE
CREATE TABLE orders (
    id INT PRIMARY KEY,
    product_id INT,
    CONSTRAINT fk_product FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE
);
</code></pre>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Option</th><th>Meaning</th></tr>
</thead>
<tbody>
<tr><td><code>CASCADE</code></td><td>Delete child rows</td></tr>
<tr><td><code>SET NULL</code></td><td>Set child column to NULL</td></tr>
<tr><td><code>SET DEFAULT</code></td><td>Set child column to default value</td></tr>
<tr><td><code>RESTRICT</code></td><td>Prevent deletion if child exists</td></tr>
<tr><td><code>NO ACTION</code></td><td>Same as RESTRICT (default)</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p>NOT NULL</p>
</blockquote>
<pre><code class="language-sql">CREATE TABLE products (
    prod_name VARCHAR(255) NOT NULL
);
</code></pre>
<blockquote>
<p>UNIQUE</p>
</blockquote>
<pre><code class="language-sql">-- Inline
CREATE TABLE users (
    email VARCHAR(255) UNIQUE
);

-- Named
CREATE TABLE users (
    email VARCHAR(255),
    CONSTRAINT uq_email UNIQUE (email)
);
</code></pre>
<blockquote>
<p>CHECK</p>
</blockquote>
<pre><code class="language-sql">-- Inline
CREATE TABLE products (
    price NUMERIC(10,2) CHECK (price &gt; 0)
);

-- Named
CREATE TABLE products (
    price NUMERIC(10,2),
    CONSTRAINT chk_price CHECK (price &gt; 0)
);
</code></pre>
<blockquote>
<p>DEFAULT</p>
</blockquote>
<pre><code class="language-sql">CREATE TABLE products (
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    status VARCHAR(20) DEFAULT 'active'
);
</code></pre>
<hr>
<h2 id="filtering--pattern-matching"><a class="header" href="#filtering--pattern-matching">Filtering &amp; Pattern Matching</a></h2>
<blockquote>
<p>LIKE / ILIKE</p>
</blockquote>
<pre><code class="language-sql">SELECT * FROM products WHERE prod_name LIKE '%name%';       -- case-sensitive
SELECT * FROM products WHERE prod_name ILIKE '%NAME%';      -- case-insensitive
SELECT * FROM products WHERE prod_name NOT LIKE '%name%';
</code></pre>
<p>Note: <code>%</code> = 0 or more characters, <code>_</code> = single character</p>
<blockquote>
<p>Regex Matching</p>
</blockquote>
<pre><code class="language-sql">SELECT * FROM products WHERE prod_name ~ '^name';    -- case-sensitive
SELECT * FROM products WHERE prod_name ~* '^NAME';   -- case-insensitive
SELECT * FROM products WHERE prod_name !~ '^name';   -- NOT match
</code></pre>
<blockquote>
<p>BETWEEN / IN / NULL</p>
</blockquote>
<pre><code class="language-sql">SELECT * FROM products WHERE price BETWEEN 10 AND 50;
SELECT * FROM products WHERE prod_name IN ('name-1', 'name-2');
SELECT * FROM products WHERE prod_name NOT IN ('name-1', 'name-2');
SELECT * FROM products WHERE release_date IS NULL;
SELECT * FROM products WHERE release_date IS NOT NULL;
</code></pre>
<blockquote>
<p>LOWER / UPPER</p>
</blockquote>
<pre><code class="language-sql">SELECT LOWER(prod_name), UPPER(prod_name) FROM products;
SELECT * FROM products WHERE LOWER(prod_name) = 'name-1';
</code></pre>
<hr>
<h2 id="date-operations"><a class="header" href="#date-operations">Date Operations</a></h2>
<blockquote>
<p>Insert with Date</p>
</blockquote>
<pre><code class="language-sql">INSERT INTO products(prod_name, price, release_date)
VALUES ('name-1', 12.23, to_date('31-10-2025','dd-mm-yyyy'));

INSERT INTO products(prod_name, price, release_date)
VALUES ('name-2', 15.23, to_timestamp('31-12-2025 13:08:07','dd-mm-yyyy hh24:mi:ss'));
</code></pre>
<blockquote>
<p>Filter by Date</p>
</blockquote>
<pre><code class="language-sql">SELECT * FROM products WHERE release_date BETWEEN '2025-01-01' AND '2025-12-31';
SELECT * FROM products WHERE EXTRACT(YEAR FROM release_date) = 2025;
SELECT * FROM products WHERE to_char(release_date, 'yyyy') = '2025';
</code></pre>
<blockquote>
<p>Index</p>
</blockquote>
<pre><code class="language-sql">CREATE INDEX contacts_name
ON contacts(name);
</code></pre>
<blockquote>
<p>Case statements</p>
</blockquote>
<pre><code class="language-sql">SELECT product_name,
CASE
  WHEN price &lt; 10 THEN 'Low price product'
  WHEN price &gt; 50 THEN 'High price product'
ELSE
  'Normal product'
END
FROM products;
</code></pre>
<blockquote>
<p>Orders</p>
</blockquote>
<p>“Friendly Jaguars Wear Green Hats, Serve Delicious Orange Lunches”</p>
<p>FROM
JOIN / ON
WHERE
GROUP BY
HAVING
SELECT
DISTINCT
ORDER BY
LIMIT / OFFSET</p>
<p>Note:</p>
<ul>
<li>cannot drop a table which is being referred(used) by other table.</li>
<li>First drop the child table which refers other tables</li>
</ul>
<blockquote>
<p>Group By</p>
</blockquote>
<ul>
<li>can only have agg func</li>
<li>only columns inside group by</li>
</ul>
<p>If a query contains an aggregate function, then every column in SELECT must be either</p>
<ul>
<li>Aggregated (MAX, SUM, COUNT, …), or</li>
<li>Listed in GROUP BY</li>
</ul>
<p>Note : add conditions join to also include null values</p>
<blockquote>
<p>Case Study</p>
</blockquote>
<p>Below is sales data:</p>
<pre><code class="language-sql">drop table if exists products;
create table products
(
	id				    int generated always as identity primary key,
	name			    varchar(100),
	price			    float,
	release_date 	date
);
insert into products
values(default,'iPhone 15', 800, to_date('22-08-2023','dd-mm-yyyy'));
insert into products
values(default,'Macbook Pro', 2100, to_date('12-10-2022','dd-mm-yyyy'));
insert into products
values(default,'Apple Watch 9', 550, to_date('04-09-2022','dd-mm-yyyy'));
insert into products
values(default,'iPad', 400, to_date('25-08-2020','dd-mm-yyyy'));
insert into products
values(default,'AirPods', 420, to_date('30-03-2024','dd-mm-yyyy'));

drop table if exists customers;
create table customers
(
    id         int generated always as identity primary key,
    name       varchar(100),
    email      varchar(30)
);
insert into customers values(default,'Meghan Harley', 'mharley@demo.com');
insert into customers values(default,'Rosa Chan', 'rchan@demo.com');
insert into customers values(default,'Logan Short', 'lshort@demo.com');
insert into customers values(default,'Zaria Duke', 'zduke@demo.com');

drop table if exists employees;
create table employees
(
    id         int generated always as identity primary key,
    name       varchar(100)
);
insert into employees values(default,'Nina Kumari');
insert into employees values(default,'Abrar Khan');
insert into employees values(default,'Irene Costa');

drop table if exists sales_order;
create table sales_order
(
	order_id		  int generated always as identity primary key,
	order_date	  date,
	quantity		  int,
	prod_id			  int references products(id),
	status			  varchar(20),
	customer_id		int references customers(id),
	emp_id			  int,
	constraint fk_so_emp foreign key (emp_id) references employees(id)
);
insert into sales_order
values(default,to_date('01-01-2024','dd-mm-yyyy'),2,1,'Completed',1,1);
insert into sales_order
values(default,to_date('01-01-2024','dd-mm-yyyy'),3,1,'Pending',2,2);
insert into sales_order
values(default,to_date('02-01-2024','dd-mm-yyyy'),3,2,'Completed',3,2);
insert into sales_order
values(default,to_date('03-01-2024','dd-mm-yyyy'),3,3,'Completed',3,2);
insert into sales_order
values(default,to_date('04-01-2024','dd-mm-yyyy'),1,1,'Completed',3,2);
insert into sales_order
values(default,to_date('04-01-2024','dd-mm-yyyy'),1,3,'completed',2,1);
insert into sales_order
values(default,to_date('04-01-2024','dd-mm-yyyy'),1,2,'On Hold',2,1);
insert into sales_order
values(default,to_date('05-01-2024','dd-mm-yyyy'),4,2,'Rejected',1,2);
insert into sales_order
values(default,to_date('06-01-2024','dd-mm-yyyy'),5,5,'Completed',1,2);
insert into sales_order
values(default,to_date('06-01-2024','dd-mm-yyyy'),1,1,'Cancelled',1,1);
insert into sales_order
values(default,to_date('06-01-2024','dd-mm-yyyy'),1,1,'Pending',1,1);

SELECT * FROM products;
SELECT * FROM customers;
SELECT * FROM employees;
SELECT * FROM sales_order;

select distinct status from sales_order;
</code></pre>
<ol>
<li>Identify the total no of products sold</li>
</ol>
<pre><code class="language-sql">select sum(quantity) as total_products_sold from sales_order;
</code></pre>
<ol start="2">
<li>Other than Completed, display the available delivery status’s</li>
</ol>
<pre><code class="language-sql">select distinct(status) from sales_order where status NOT ILIKE 'completed';
</code></pre>
<ol start="3">
<li>Display the order id, order_date and product_name for all the completed orders.</li>
</ol>
<pre><code class="language-sql">select
  *
from
  sales_order so
  inner join products p on p.id = so.prod_id
where
  status ilike 'completed';
</code></pre>
<ol start="4">
<li>Sort the above query to show the earliest orders at the top. Also, display the customer who purchased these orders.</li>
</ol>
<pre><code class="language-sql">select
  so.order_id,
  so.order_date,
  p.name as product,
  c.name as customer
from
  sales_order so
  join products p on p.id = so.prod_id
  join customers c on c.id = so.customer_id
where
  lower(so.status) = 'completed'
order by
  so.order_date;
</code></pre>
<ol start="5">
<li>Display the total no of orders corresponding to each delivery status</li>
</ol>
<p>Note: Every column in SELECT must be either</p>
<p>in the GROUP BY, or</p>
<p>inside an aggregate function (MAX, SUM, AVG, etc.)</p>
<pre><code class="language-sql">select status,count(*) from sales_order group by status;
</code></pre>
<ol start="6">
<li>How many orders are still not completed for orders purchasing more than 1 item?</li>
</ol>
<pre><code class="language-sql">select
  count(*)
from
  sales_order
where
  status ilike 'completed'
  and quantity &gt; 1;
</code></pre>
<ol start="7">
<li>Find the total number of orders corresponding to each delivery status by ignoring the case in the delivery status.</li>
</ol>
<pre><code class="language-sql">select
  count(*),
  lower(status)
from
  sales_order
group by
  lower(status)
order by
  count desc;
</code></pre>
<ol start="8">
<li>Write a query to identify the total products purchased by each customer</li>
</ol>
<pre><code class="language-sql">select
  c.name,
  sum(so.quantity)
from
  sales_order so
  inner join customers c on c.id = so.customer_id
group by
  c.name;
</code></pre>
<ol start="9">
<li>Display the total sales and average sales done for each day.</li>
</ol>
<pre><code class="language-sql">select
  sum(p.price * so.quantity) as total_sale,
  avg(quantity * p.price) as avg_sales,
  order_date
from
  sales_order so
  inner join products p on so.prod_id = p.id
group by
  order_date
order by
  total_sale desc
</code></pre>
<ol start="10">
<li>Display the customer name, employee name, and total sale amount of all orders which are either on hold or pending.</li>
</ol>
<pre><code class="language-sql">select
  c.name as customer_name,
  e.name as employee_name,
  sum(p.price * so.quantity) as total_sales
from
  sales_order so
  inner join customers c on c.id = so.customer_id
  inner join employees e on e.id = so.emp_id
  inner join products p on p.id = so.prod_id
where
  status = 'On Hold'
  or status = 'Pending'
group by
  e.name,
  c.name;
</code></pre>
<ol start="11">
<li>Fetch all the orders which were neither completed/pending or were handled by the employee Abrar. Display employee name aswell</li>
</ol>
<pre><code class="language-sql">select
  e.name,
  so.*
from
  sales_order so
  inner join employees e on so.emp_id = e.id
where
  lower(so.status) not in ('complete', 'pending')
  or e.name ilike 'Abrar';
</code></pre>
<ol start="12">
<li>Fetch the orders which cost more than 2000 but did not include the MacBook Pro. Print the total sale amount as well.</li>
</ol>
<pre><code class="language-sql">select
  (p.price * so.quantity) as price,p.name
from
  sales_order so
  inner join products p on p.id = so.prod_id
where
  p.name not ilike '%macbook%'
</code></pre>
<ol start="13">
<li>Identify the customers who have not purchased any product yet.</li>
</ol>
<pre><code class="language-sql">select * from customers where customers.id not in (select sales_order.customer_id from sales_order);
</code></pre>
<ol start="14">
<li>Write a query to identify the total products purchased by each customer.
Return all customers irrespective of whether they have made a purchase or not.
Sort the result with the highest no of orders at the top.</li>
</ol>
<pre><code class="language-sql">select
  c.name,
  coalesce(sum(so.quantity),0) as qty
from
  customers c
  left join sales_order so on c.id = so.customer_id
group by
  c.name
order by
  qty desc;
</code></pre>
<ol start="15">
<li>Corresponding to each employee, display the total sales they made of
all the completed orders. Display total sales as 0 if an employee made no sales yet.</li>
</ol>
<pre><code class="language-sql">select
  e.name,
  coalesce(sum(p.price * so.quantity), 0) as total_sale
from
  sales_order so
  inner join products p on p.id = so.prod_id
  right join employees e on e.id = so.emp_id
  and lower(so.status) = 'completed'
group by
  e.name
order by
  total_sale desc;
</code></pre>
<ol start="16">
<li>Re-write the above query to display the total sales made by each employee
corresponding to each customer. If an employee has not served a customer
yet then display “-” under the customer.</li>
</ol>
<pre><code class="language-sql">select
  coalesce(sum(so.quantity * p.price), 0) as total_sales,
  coalesce(c.name, '-') as customer_name,
  e.name as emp_name
from
  sales_order so
  inner join products p on p.id = so.prod_id
  inner join customers c on c.id = so.customer_id
  right join employees e on e.id = so.emp_id and lower(so.status) = 'completed'
group by
  e.name,
  c.name
order by
  total_sales desc;
</code></pre>
<ol start="17">
<li>Re-write the above query to display only those records where the total sales are above 1000.</li>
</ol>
<pre><code class="language-sql">select
  coalesce(sum(so.quantity * p.price), 0) as total_sales,
  coalesce(c.name, '-') as customer_name,
  e.name as emp_name
from
  sales_order so
  inner join products p on p.id = so.prod_id
  inner join customers c on c.id = so.customer_id
  right join employees e on e.id = so.emp_id
  and lower(so.status) = 'completed'
group by
  e.name,
  c.name
having
  sum(so.quantity * p.price) &gt; 1000
order by
  total_sales desc;
</code></pre>
<ol start="18">
<li>Identify employees who have served more than 2 customers.</li>
</ol>
<pre><code class="language-sql">select
  e.name,
  count(distinct (c.name)) as customer_served
from
  employees e
  inner join sales_order so on so.emp_id = e.id
  inner join customers c on c.id = so.customer_id
group by
  e.name
having
  count(distinct (c.name)) &gt; 2;
</code></pre>
<ol start="19">
<li>Identify the customers who have purchased more than 5 products</li>
</ol>
<pre><code class="language-sql">select c.name,sum(so.quantity) as qty
from customers c
inner join sales_order so on so.customer_id=c.id
group by c.name
  having sum(so.quantity)&gt;5;
</code></pre>
<ol start="20">
<li>Identify customers whose average purchase cost exceeds the average sale of all the orders.</li>
</ol>
<pre><code class="language-sql">select c.name,avg(so.quantity*p.price) as avg_cost
from customers c
inner join sales_order so on so.customer_id=c.id
inner join products p on p.id=so.prod_id
group by c.name
having (avg(so.quantity*p.price))&gt;(
  select avg(p.price*so.quantity)
  from sales_order so
  inner join products p on p.id=so.prod_id
)
</code></pre>
<h1 id="sql-window-functions"><a class="header" href="#sql-window-functions">SQL Window Functions</a></h1>
<h2 id="1-what-is-a-window-function"><a class="header" href="#1-what-is-a-window-function">1. What Is a Window Function?</a></h2>
<p>A <strong>window function</strong> performs calculations across a set of rows that are <strong>logically related to the current row</strong>, while <strong>preserving individual rows</strong> in the result set.</p>
<h3 id="key-characteristics"><a class="header" href="#key-characteristics">Key Characteristics</a></h3>
<ul>
<li>Rows are <strong>not collapsed</strong> (unlike <code>GROUP BY</code>)</li>
<li>Row-level detail is retained</li>
<li>Results are computed over a logical <strong>window of rows</strong></li>
</ul>
<h3 id="conceptual-difference"><a class="header" href="#conceptual-difference">Conceptual Difference</a></h3>
<ul>
<li><code>GROUP BY</code> → aggregates and <strong>reduces rows</strong></li>
<li>Window functions → <strong>retain rows</strong> and add computed columns</li>
</ul>
<hr>
<h2 id="2-general-syntax"><a class="header" href="#2-general-syntax">2. General Syntax</a></h2>
<pre><code class="language-sql">window_function(expression)
OVER (
  PARTITION BY partition_column
  ORDER BY order_column
)
</code></pre>
<h3 id="clauses-explained"><a class="header" href="#clauses-explained">Clauses Explained</a></h3>
<ul>
<li>
<p><strong>PARTITION BY</strong>
Divides rows into logical groups (similar to <code>GROUP BY</code>, but without collapsing rows)</p>
</li>
<li>
<p><strong>ORDER BY</strong>
Defines row ordering within each partition</p>
</li>
</ul>
<hr>
<h2 id="3-sample-table-employees2"><a class="header" href="#3-sample-table-employees2">3. Sample Table: <code>employees2</code></a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>emp_name</th><th>department</th><th>salary</th></tr>
</thead>
<tbody>
<tr><td>Alice</td><td>IT</td><td>90000</td></tr>
<tr><td>Bob</td><td>IT</td><td>80000</td></tr>
<tr><td>Carol</td><td>IT</td><td>80000</td></tr>
<tr><td>David</td><td>HR</td><td>70000</td></tr>
<tr><td>Eva</td><td>HR</td><td>65000</td></tr>
<tr><td>Frank</td><td>Sales</td><td>60000</td></tr>
</tbody>
</table>
</div>
<hr>
<h2 id="4-row_number"><a class="header" href="#4-row_number">4. ROW_NUMBER()</a></h2>
<h3 id="definition"><a class="header" href="#definition">Definition</a></h3>
<p>Assigns a <strong>unique sequential number</strong> to each row within a partition based on the specified order.</p>
<ul>
<li>No two rows share the same number</li>
<li>Ties are broken arbitrarily unless further ordering is specified</li>
</ul>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<pre><code class="language-sql">SELECT
  emp_name,
  department,
  salary,
  ROW_NUMBER() OVER (
    PARTITION BY department
    ORDER BY salary DESC
  ) AS row_num
FROM employees2;
</code></pre>
<h3 id="behavior-it-department"><a class="header" href="#behavior-it-department">Behavior (IT Department)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>emp_name</th><th>salary</th><th>row_num</th></tr>
</thead>
<tbody>
<tr><td>Alice</td><td>90000</td><td>1</td></tr>
<tr><td>Bob</td><td>80000</td><td>2</td></tr>
<tr><td>Carol</td><td>80000</td><td>3</td></tr>
</tbody>
</table>
</div>
<h3 id="common-use-cases"><a class="header" href="#common-use-cases">Common Use Cases</a></h3>
<ul>
<li>Selecting a single top row per group</li>
<li>Deduplication</li>
</ul>
<hr>
<h2 id="5-rank"><a class="header" href="#5-rank">5. RANK()</a></h2>
<h3 id="definition-1"><a class="header" href="#definition-1">Definition</a></h3>
<p>Assigns the same rank to rows with equal values and <strong>leaves gaps</strong> in the ranking sequence.</p>
<h3 id="example-1"><a class="header" href="#example-1">Example</a></h3>
<pre><code class="language-sql">SELECT
  emp_name,
  department,
  salary,
  RANK() OVER (
    PARTITION BY department
    ORDER BY salary DESC
  ) AS rank
FROM employees2;
</code></pre>
<h3 id="behavior-it-department-1"><a class="header" href="#behavior-it-department-1">Behavior (IT Department)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>emp_name</th><th>salary</th><th>rank</th></tr>
</thead>
<tbody>
<tr><td>Alice</td><td>90000</td><td>1</td></tr>
<tr><td>Bob</td><td>80000</td><td>2</td></tr>
<tr><td>Carol</td><td>80000</td><td>2</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p>The next rank would be <strong>4</strong> (rank 3 is skipped).</p>
</blockquote>
<h3 id="use-cases"><a class="header" href="#use-cases">Use Cases</a></h3>
<ul>
<li>Competition-style ranking</li>
<li>Reports where rank gaps are meaningful</li>
</ul>
<hr>
<h2 id="6-dense_rank"><a class="header" href="#6-dense_rank">6. DENSE_RANK()</a></h2>
<h3 id="definition-2"><a class="header" href="#definition-2">Definition</a></h3>
<p>Assigns the same rank to tied rows <strong>without gaps</strong> in the ranking sequence.</p>
<h3 id="example-2"><a class="header" href="#example-2">Example</a></h3>
<pre><code class="language-sql">SELECT
  emp_name,
  department,
  salary,
  DENSE_RANK() OVER (
    PARTITION BY department
    ORDER BY salary DESC
  ) AS dense_rank
FROM employees2;
</code></pre>
<h3 id="behavior-it-department-2"><a class="header" href="#behavior-it-department-2">Behavior (IT Department)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>emp_name</th><th>salary</th><th>dense_rank</th></tr>
</thead>
<tbody>
<tr><td>Alice</td><td>90000</td><td>1</td></tr>
<tr><td>Bob</td><td>80000</td><td>2</td></tr>
<tr><td>Carol</td><td>80000</td><td>2</td></tr>
</tbody>
</table>
</div>
<blockquote>
<p>The next rank would be <strong>3</strong>.</p>
</blockquote>
<h3 id="use-cases-1"><a class="header" href="#use-cases-1">Use Cases</a></h3>
<ul>
<li>Finding Nth highest values</li>
<li>Rank reporting without gaps</li>
</ul>
<hr>
<h2 id="7-lead"><a class="header" href="#7-lead">7. LEAD()</a></h2>
<h3 id="definition-3"><a class="header" href="#definition-3">Definition</a></h3>
<p>Returns a value from a <strong>subsequent row</strong> within the same partition.</p>
<h3 id="example-3"><a class="header" href="#example-3">Example</a></h3>
<pre><code class="language-sql">SELECT
  emp_name,
  department,
  salary,
  LEAD(salary) OVER (
    PARTITION BY department
    ORDER BY salary DESC
  ) AS next_salary
FROM employees2;
</code></pre>
<h3 id="behavior-it-department-3"><a class="header" href="#behavior-it-department-3">Behavior (IT Department)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>emp_name</th><th>salary</th><th>next_salary</th></tr>
</thead>
<tbody>
<tr><td>Alice</td><td>90000</td><td>80000</td></tr>
<tr><td>Bob</td><td>80000</td><td>80000</td></tr>
<tr><td>Carol</td><td>80000</td><td>NULL</td></tr>
</tbody>
</table>
</div>
<h3 id="use-cases-2"><a class="header" href="#use-cases-2">Use Cases</a></h3>
<ul>
<li>Row-to-row comparison</li>
<li>Trend analysis</li>
</ul>
<hr>
<h2 id="8-lag"><a class="header" href="#8-lag">8. LAG()</a></h2>
<h3 id="definition-4"><a class="header" href="#definition-4">Definition</a></h3>
<p>Returns a value from a <strong>previous row</strong> within the same partition.</p>
<h3 id="example-4"><a class="header" href="#example-4">Example</a></h3>
<pre><code class="language-sql">SELECT
  emp_name,
  department,
  salary,
  LAG(salary, 1, NULL) OVER (
    PARTITION BY department
    ORDER BY salary DESC
  ) AS previous_salary
FROM employees2;
</code></pre>
<h3 id="behavior-it-department-4"><a class="header" href="#behavior-it-department-4">Behavior (IT Department)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>emp_name</th><th>salary</th><th>previous_salary</th></tr>
</thead>
<tbody>
<tr><td>Alice</td><td>90000</td><td>NULL</td></tr>
<tr><td>Bob</td><td>80000</td><td>90000</td></tr>
<tr><td>Carol</td><td>80000</td><td>80000</td></tr>
</tbody>
</table>
</div>
<h3 id="use-cases-3"><a class="header" href="#use-cases-3">Use Cases</a></h3>
<ul>
<li>Change detection</li>
<li>Sequential comparisons</li>
</ul>
<hr>
<h2 id="9-common-practical-queries"><a class="header" href="#9-common-practical-queries">9. Common Practical Queries</a></h2>
<h3 id="highest-paid-employee-per-department"><a class="header" href="#highest-paid-employee-per-department">Highest-Paid Employee per Department</a></h3>
<pre><code class="language-sql">SELECT emp_name, department, salary
FROM (
  SELECT
    emp_name,
    department,
    salary,
    RANK() OVER (PARTITION BY department ORDER BY salary DESC) AS r
  FROM employees2
) t
WHERE r = 1;
</code></pre>
<hr>
<h3 id="second-highest-salary-per-department"><a class="header" href="#second-highest-salary-per-department">Second-Highest Salary per Department</a></h3>
<pre><code class="language-sql">SELECT emp_name, department, salary
FROM (
  SELECT
    emp_name,
    department,
    salary,
    DENSE_RANK() OVER (PARTITION BY department ORDER BY salary DESC) AS r
  FROM employees2
) t
WHERE r = 2;
</code></pre>
<hr>
<h2 id="10-ranking-function-comparison"><a class="header" href="#10-ranking-function-comparison">10. Ranking Function Comparison</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Function</th><th>Preserves Rows</th><th>Handles Ties</th><th>Ranking Gaps</th><th>Typical Use</th></tr>
</thead>
<tbody>
<tr><td>ROW_NUMBER</td><td>Yes</td><td>No</td><td>No</td><td>Pick one row</td></tr>
<tr><td>RANK</td><td>Yes</td><td>Yes</td><td>Yes</td><td>Competitive ranking</td></tr>
<tr><td>DENSE_RANK</td><td>Yes</td><td>Yes</td><td>No</td><td>Nth highest</td></tr>
</tbody>
</table>
</div>
<hr>
<h2 id="11-first_value"><a class="header" href="#11-first_value">11. FIRST_VALUE()</a></h2>
<h3 id="definition-5"><a class="header" href="#definition-5">Definition</a></h3>
<p>Returns the <strong>first value</strong> in the ordered window frame for each partition.</p>
<h3 id="example-5"><a class="header" href="#example-5">Example</a></h3>
<pre><code class="language-sql">SELECT
  emp_name,
  department,
  salary,
  FIRST_VALUE(salary) OVER (
    PARTITION BY department
    ORDER BY salary DESC
  ) AS highest_salary_in_dept
FROM employees2;
</code></pre>
<h3 id="behavior-it-department-5"><a class="header" href="#behavior-it-department-5">Behavior (IT Department)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>emp_name</th><th>salary</th><th>highest_salary_in_dept</th></tr>
</thead>
<tbody>
<tr><td>Alice</td><td>90000</td><td>90000</td></tr>
<tr><td>Bob</td><td>80000</td><td>90000</td></tr>
<tr><td>Carol</td><td>80000</td><td>90000</td></tr>
</tbody>
</table>
</div>
<h3 id="use-case"><a class="header" href="#use-case">Use Case</a></h3>
<ul>
<li>Comparing each row against the group’s maximum value</li>
</ul>
<hr>
<h2 id="12-last_value"><a class="header" href="#12-last_value">12. LAST_VALUE()</a></h2>
<h3 id="definition-6"><a class="header" href="#definition-6">Definition</a></h3>
<p>Returns the <strong>last value in the window frame</strong>.</p>
<p>⚠️ <strong>Important</strong>
<code>LAST_VALUE()</code> is <strong>frame-sensitive</strong>.
By default, many databases use:</p>
<pre><code class="language-sql">RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW
</code></pre>
<p>This often causes <code>LAST_VALUE()</code> to return the <strong>current row’s value</strong> instead of the actual last value.</p>
<hr>
<h3 id="incorrect-default-frame"><a class="header" href="#incorrect-default-frame">Incorrect (Default Frame)</a></h3>
<pre><code class="language-sql">LAST_VALUE(salary) OVER (
  PARTITION BY department
  ORDER BY salary DESC
)
</code></pre>
<hr>
<h3 id="correct-usage-explicit-frame"><a class="header" href="#correct-usage-explicit-frame">Correct Usage (Explicit Frame)</a></h3>
<pre><code class="language-sql">SELECT
  emp_name,
  department,
  salary,
  LAST_VALUE(salary) OVER (
    PARTITION BY department
    ORDER BY salary DESC
    ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING
  ) AS lowest_salary_in_dept
FROM employees2;
</code></pre>
<h3 id="behavior-it-department-6"><a class="header" href="#behavior-it-department-6">Behavior (IT Department)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>emp_name</th><th>salary</th><th>lowest_salary_in_dept</th></tr>
</thead>
<tbody>
<tr><td>Alice</td><td>90000</td><td>80000</td></tr>
<tr><td>Bob</td><td>80000</td><td>80000</td></tr>
<tr><td>Carol</td><td>80000</td><td>80000</td></tr>
</tbody>
</table>
</div>
<hr>
<h2 id="13-nth_value"><a class="header" href="#13-nth_value">13. NTH_VALUE()</a></h2>
<h3 id="definition-7"><a class="header" href="#definition-7">Definition</a></h3>
<p>Returns the value from the <strong>N-th row</strong> in the ordered window frame.</p>
<p>Like <code>LAST_VALUE</code>, this function <strong>requires an explicit frame</strong>.</p>
<h3 id="example-second-highest-salary-per-department"><a class="header" href="#example-second-highest-salary-per-department">Example: Second-Highest Salary per Department</a></h3>
<pre><code class="language-sql">SELECT
  emp_name,
  department,
  salary,
  NTH_VALUE(salary, 2) OVER (
    PARTITION BY department
    ORDER BY salary DESC
    ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING
  ) AS second_highest_salary
FROM employees2;
</code></pre>
<h3 id="behavior-it-department-7"><a class="header" href="#behavior-it-department-7">Behavior (IT Department)</a></h3>
<div class="table-wrapper">
<table>
<thead>
<tr><th>emp_name</th><th>salary</th><th>second_highest_salary</th></tr>
</thead>
<tbody>
<tr><td>Alice</td><td>90000</td><td>80000</td></tr>
<tr><td>Bob</td><td>80000</td><td>80000</td></tr>
<tr><td>Carol</td><td>80000</td><td>80000</td></tr>
</tbody>
</table>
</div>
<hr>
<h2 id="14-value-function-comparison"><a class="header" href="#14-value-function-comparison">14. Value Function Comparison</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Function</th><th>Returns</th><th>Frame-Sensitive</th><th>Typical Use</th></tr>
</thead>
<tbody>
<tr><td>FIRST_VALUE</td><td>First value</td><td>No (safe by default)</td><td>Max / earliest</td></tr>
<tr><td>LAST_VALUE</td><td>Last value</td><td>Yes</td><td>Min / latest</td></tr>
<tr><td>NTH_VALUE</td><td>Nth value</td><td>Yes</td><td>Nth highest / lowest</td></tr>
</tbody>
</table>
</div>
<hr>
<h2 id="15-key-rules-to-remember"><a class="header" href="#15-key-rules-to-remember">15. Key Rules to Remember</a></h2>
<ol>
<li>
<p><code>FIRST_VALUE()</code> is usually safe without specifying a custom frame.</p>
</li>
<li>
<p><code>LAST_VALUE()</code> and <code>NTH_VALUE()</code> <strong>require an explicit frame</strong>:</p>
<pre><code class="language-sql">ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING
</code></pre>
</li>
<li>
<p>Window functions <strong>do not reduce rows</strong>.</p>
</li>
<li>
<p>Execution order:
Window functions run after aggregation but before sorting and limiting</p>
<pre><code>FROM → WHERE → GROUP BY → HAVING → WINDOW FUNCTIONS → ORDER BY
</code></pre>
</li>
</ol>
<blockquote>
<p>Window Function</p>
</blockquote>
<p>A window function calculates something using nearby rows, but still shows every row.</p>
<p>It does not combine rows into one</p>
<p>Each row keeps its identity</p>
<p>The calculation “looks at” other related rows</p>
<p>In one line</p>
<p>Window function = calculate using other rows without losing the current row</p>
<blockquote>
<p>Window Frame</p>
</blockquote>
<p>A window frame decides which rows a window function is allowed to look at for the current row.</p>
<p>It limits the rows inside a partition</p>
<p>It changes how far backward or forward the function can see</p>
<p>In one line</p>
<p>Window frame = how many rows the window function can see</p>
<blockquote>
<p>CTE</p>
</blockquote>
<p>CTE (Common Table Expression) is a temporary named result set that you can use inside a query.</p>
<pre><code class="language-sql">WITH dept_avg AS (
    SELECT department, AVG(salary) AS avg_salary
    FROM employees
    GROUP BY department
),
high_paid AS (
    SELECT emp_name, department, salary
    FROM employees
    WHERE salary &gt; 70000
)
SELECT h.emp_name, h.department, d.avg_salary
FROM high_paid h
JOIN dept_avg d
ON h.department = d.department;
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="11_node_6_graphql_ts_orm.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="13_sql_alchemy.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="11_node_6_graphql_ts_orm.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="13_sql_alchemy.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
